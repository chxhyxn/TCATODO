# TCA 극혐
공부하기 싫다...

# 대충 이해하기
## TCA는 함수형 프로그래밍이다.
이게 우리에게 익숙한 객체지향 프로그래밍이랑 다른 점인 것 같습니다.

함수형 프로그래밍이 뭐냐면, '모든 일은 함수로 해결할 수 있다.' 이런 마인드로 코드를 짜라는 것 같습니다.

좀 어렵게 느껴지는데요.

예시를 좀 들어보겠습니다.


## 객체지향 프로그래밍과 함수형 프로그래밍 예시로 차이 느껴보기
설악산이 있습니다. 여름엔 초록색이에요.
시간이 지나 가을이 오면 빨개집니다. 단풍이 드는 거죠.

이제 먼저 객체지향으로 생각해봅시다.
설악산이라는 인스턴스가 있을 것 같구요.
```설악산.color = .red```
이런 코드 한줄이면 끝나겠죠.

반면에 함수형으로 생각해봐요.
먼저 '단풍이 든다'는 함수를 먼저 떠올립니다.
```설악산 = 설악산.단풍들기()```
이런 코드를 작성할 것 같습니다.


## 불변성
미안합니다. 불변성도 설명해야 됩니다.
TCA는 불변성이란 특징이 있습니다.

이 불변성이 뭐냐면 객체의 상태를 직접 바꾸지 않는다는 겁니다.
대신 다른 상태의 객체를 덮어씌웁니다.


## 불변성 예시
마찬가지로 객체지향은
```설악산.color = .red```
이런 느낌이겠죠.

반면에 이 불변성을 가지는 TCA는 이런 느낌인가봅니다.
```let 단풍든설악산 = 설악산.copy(color: .red)
설악산 = 단풍든설악산```
좀 극혐이긴 한 것 같습니다.

## 불변성 장점
이렇게 극혐인데 회사들은 TCA TCA 노래를 부릅니다.

이렇게 하는 방식이 한 객체에 여러 스레드에서 동시에 접근하는 동시성 문제를 해결한다고 하구요.
그러니까 예측가능한 결과가 나오겠죠.
테스트도 쉽고, 코드를 수정보다 추가하기만 하면 되는 구조가 돼서 revert같은 거 할 일이 없어진다는데 저는 아직 모르겠습니다.


# TCA 코딩 정리하기
## State
현재 상태 데이터(struct State, var ~요소)

## Action
할 행동들(enum Action, case ~행동)

## Reducer
Action에 따른 새로운 State 반환(func, return 바뀐state)

## Store
상태, 리듀서 담는 거. 뷰에서 호출하는 듯.
여러 개 있을 수도 있다는 데 저는 잘 모르겠음.

## Dependency
외부 API, UUID, Clock 같은 주입 가능한 도구들


